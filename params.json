{"name":"Find overlap reads","tagline":"Parse a BAM file and extract reads ovelapping given genomic coordinates","body":"# Find_overlap_reads\r\n\r\n## Motivation\r\nFind_overlap_reads is a **python3** object oriented script, developed to parse a genomic alignment files(BAM/SAM). The program is intended to count and extract reads or read pairs overlapping genomic intervals provided in a tab-separated text file.\r\n\r\n## Principle\r\n\r\n1. The interval file is parsed and Interval objects are created for each valid line within it.\r\n2. Sam/Bam (CRAM?) files are parsed iteratively with *pysam*.\r\n3. For each read the program verify if the read itself or the template covered by the read and its pair overlap one of the genomic interval.\r\n4. A report containing the total number of reads, the number of read mapped and the reads overlapping each interval is created in the current dir.\r\n5. A subset of bam containing only read overlapping intervals is generated, sorted and indexed.  \r\n\r\n## Dependencies\r\n\r\n* [pysam](https://github.com/pysam-developers/pysam) 0.8.1+ (based on htslib and samtools versions 1.1)\r\n\r\nIf you have pip already installed, enter the following line to install pysam:\r\n```bash\r\nsudo pip install pysam\r\n```\r\n\r\n## Get Find_overlap_reads\r\n\r\n* Clone the repository with --recursive option to also pull the submodule\r\n``` bash\r\n$ git clone --recursive https://github.com/a-slide/Find_overlap_reads/ my_folder/\r\n```\r\n\r\n* Enter the root of the program folder and make the main script executable\r\n``` bash\r\n$ sudo chmod u+x Find_overlap_reads.py\r\n```\r\n\r\n* Add Find_overlap_reads.py in your PATH\r\n\r\n## Usage\r\n\r\n    Usage: find_overlap_read -f genomic_interval.csv [-b/-r] f1.bam(sam),[f2.bam(sam)...fn.bam(sam)\r\n    Parse a BAM/SAM file(s) and extract reads overlapping given genomic coordinates\r\n\r\n    Options:\r\n        --version         show program's version number and exit\r\n        -h, --help        show this help message and exit\r\n        -f INTERVAL_FILE  Path of the tab separated file contaning genomic interval (mandatory)*\r\n        -b, --no_bam      Don't output bam file(s) (default = True)\r\n        -r, --no_report   Don't output report file(s) (default = True)\r\n\r\n#### Genomic interval file\r\n\r\nThe file containing genomic intervals have to be formated as a **tab-separated values** text format as follow:\r\n\r\n```Name_of_the_the_reference    start_coordinate(INT)    end_coordinate(INT)    Name_of_the_interval (facultative)```\r\n\r\nLines with invalid integer values or less than 3 fields will be skipped. An error will be raised if no valid interval was found.\r\nExamples of valid and invalid files are provided in the demo/ folder. A standard Bed file would be considered as a \r\n\r\n#### Aligment files (sam/bam)\r\n\r\nA list of bam, sam and or cram files containing\r\n\r\n## Development notebook\r\n\r\n2 possibilities:\r\n* Use ipython notebook with Dev_notebook.ipynb\r\n* Consult directly online through nbviewer : [Notebook](http://nbviewer.ipython.org/github/a-slide/Find_overlap_reads/blob/master/Dev_notebook.ipynb)\r\n\r\n## Authors and Contact\r\n\r\nAdrien Leger - 2014\r\n* <adrien.leger@gmail.com>\r\n* <adrien.leger@inserm.fr>\r\n* <adrien.leger@univ-nantes.fr>\r\n* [Github](https://github.com/a-slide)\r\n* [Atlantic Gene Therapies - INSERM 1089] (http://www.atlantic-gene-therapies.fr/)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}